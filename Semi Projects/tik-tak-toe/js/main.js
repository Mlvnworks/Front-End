const xhr=new XMLHttpRequest,fileSource={dashbord:"pages/dashboard.html",selectMod:"pages/selectMod.html",setting:"pages/setting.html",help:"pages/help.html",aboutUs:"pages/aboutUs.html",inGAme:"pages/in game/inGAme.html"},msg=document.querySelector("#msg"),fileCatcher=document.querySelector("#file-catcher");function changeSlide(t){xhr.open("GET",t,!0),xhr.onload=function(){return 200!==xhr.status?msg.textContent="Something Went wrong!":200===xhr.status?fileCatcher.innerHTML=xhr.response:void 0},xhr.send()}function highlight(t,e,n){const o=document.querySelector("#turn-text");o.textContent="Checking...",t&&e&&n&&(t.style.color="red",e.style.color="red",n.style.color="red")}function showWhinner(e){xhr.open("GET","pages/in game/winner.html",!0),xhr.onload=function(){if(200!==xhr.status)msg.textContent="Something Went wrong!";else if(200===xhr.status){fileCatcher.innerHTML=xhr.response;const t=document.querySelector("#winner");!1===e?t.textContent='PLAYER "X" Win!':!0===e?t.textContent='PLAYER "O" WIN!':"draw"===e?t.textContent="Draw!":"ai"===e?t.textContent="A.I win!":"you"===e&&(t.textContent="You Win!")}},xhr.send()}function checkWinner(t){var e=document.querySelector("#box-1"),n=document.querySelector("#box-2"),o=document.querySelector("#box-3"),i=document.querySelector("#box-4"),r=document.querySelector("#box-5"),h=document.querySelector("#box-6"),s=document.querySelector("#box-7"),u=document.querySelector("#box-8"),c=document.querySelector("#box-9"),x="O",l="X";if(e.textContent===x&&n.textContent===x&&o.textContent===x)return highlight(e,n,o),setTimeout(()=>showWhinner(t),2e3),!0;if(e.textContent===l&&n.textContent===l&&o.textContent===l)return highlight(e,n,o),setTimeout(()=>showWhinner(t),2e3),!0;if(i.textContent===x&&r.textContent===x&&h.textContent===x)return highlight(i,r,h),setTimeout(()=>showWhinner(t),2e3),!0;if(i.textContent===l&&r.textContent===l&&h.textContent===l)return highlight(i,r,h),setTimeout(()=>showWhinner(t),2e3),!0;if(s.textContent===x&&u.textContent===x&&c.textContent===x)return highlight(s,u,c),setTimeout(()=>showWhinner(t),2e3),!0;if(s.textContent===l&&u.textContent===l&&c.textContent===l)return highlight(s,u,c),setTimeout(()=>showWhinner(t),2e3),!0;if(e.textContent===x&&i.textContent===x&&s.textContent===x)return highlight(e,i,s),setTimeout(()=>showWhinner(t),2e3),!0;if(e.textContent===l&&i.textContent===l&&s.textContent===l)return highlight(e,i,s),setTimeout(()=>showWhinner(t),2e3),!0;if(n.textContent===x&&r.textContent===x&&u.textContent===x)return highlight(n,r,u),setTimeout(()=>showWhinner(t),2e3),!0;if(n.textContent===l&&r.textContent===l&&u.textContent===l)return highlight(n,r,u),setTimeout(()=>showWhinner(t),2e3),!0;if(o.textContent===x&&h.textContent===x&&c.textContent===x)return highlight(o,h,c),setTimeout(()=>showWhinner(t),2e3),!0;if(o.textContent===l&&h.textContent===l&&c.textContent===l)return highlight(o,h,c),setTimeout(()=>showWhinner(t),2e3),!0;if(e.textContent===x&&r.textContent===x&&c.textContent===x)return highlight(e,r,c),setTimeout(()=>showWhinner(t),2e3),!0;if(e.textContent===l&&r.textContent===l&&c.textContent===l)return highlight(e,r,c),setTimeout(()=>showWhinner(t),2e3),!0;if(o.textContent===x&&r.textContent===x&&s.textContent===x)return highlight(o,r,s),setTimeout(()=>showWhinner(t),2e3),!0;if(o.textContent===l&&r.textContent===l&&s.textContent===l)return highlight(o,r,s),setTimeout(()=>showWhinner(t),2e3),!0;if(1<=e.textContent.length&&1<=n.textContent.length&&1<=i.textContent.length&&1<=o.textContent.length&&1<=r.textContent.length&&1<=h.textContent.length&&1<=s.textContent.length&&1<=u.textContent.length&&1<=c.textContent.length)highlight(),setTimeout(()=>showWhinner("draw"),2e3)}function isValid(t){return!t.textContent}function aiMove(t){return document.querySelector("#"+t)}function checkAIMove(t){const e=document.querySelector("#turn-text");"X"===t.textContent||"O"===t.textContent?initAI():(e.textContent="A.I's turn",setTimeout(()=>{e.textContent="Your turn",t.textContent="X",checkWinner("ai")},1e3))}function initAI(){var t=Math.floor(8*Math.random());checkAIMove(document.querySelector("#"+["box-1","box-2","box-3","box-4","box-5","box-6","box-7","box-8","box-9"][t]))}function aiGame(){const t=document.querySelector(".game-container"),e=document.querySelector("#turn-text");e.textContent="Your Turn",t.addEventListener("click",t=>{t.target.classList.contains("box")&&(t.target.textContent="O",checkWinner("you"),checkWinner("you")||setTimeout(()=>{initAI()},1e3))})}function startAiGame(){let e=JSON.parse(sessionStorage.getItem("turn"));const t=document.querySelector(".game-container"),n=document.querySelector("#turn-text");e?n.textContent="PLAYER O's Turn":n.textContent="PLAYER X's Turn",t.addEventListener("click",t=>{e=JSON.parse(sessionStorage.getItem("turn")),t.target.classList.contains("box")&&isValid(t.target)&&(e?(n.textContent="PLAYER X's Turn",t.target.textContent="O",checkWinner(e),sessionStorage.setItem("turn",!1)):(n.textContent="PLAYER O's Turn",t.target.textContent="X",checkWinner(e),sessionStorage.setItem("turn",!0)))})}fileCatcher.addEventListener("click",t=>{t.target.classList.contains("btn-act")&&(t.target.textContent.includes("Setting")?changeSlide(fileSource.setting):t.target.textContent.includes("Help")?changeSlide(fileSource.help):t.target.textContent.includes("About us")?changeSlide(fileSource.aboutUs):t.target.textContent.includes("PLAY")?changeSlide(fileSource.selectMod):t.target.textContent.includes("PvP")?(changeSlide(fileSource.inGAme),sessionStorage.setItem("turn",!1),setTimeout(()=>startAiGame(),1500)):t.target.textContent.includes("A.I")?(changeSlide(fileSource.inGAme),setTimeout(()=>{aiGame()},1e3)):t.target.textContent.includes("MENU")?changeSlide(fileSource.dashbord):t.target.textContent.includes("Play again")&&changeSlide(fileSource.selectMod))}),changeSlide(fileSource.dashbord);